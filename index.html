<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teste WebRTC Hardcore</title>
    <style>
        body {
            background: #0f172a;
            color: white;
            font-family: monospace;
            padding: 20px;
        }
        .ip {
            background: rgba(255,255,255,0.05);
            padding: 8px;
            border-radius: 5px;
            margin-top: 5px;
        }
    </style>
</head>
<body>
    <h1>üîç Teste WebRTC Hardcore</h1>
    <p>Este teste tenta revelar seu IP real, mesmo com VPN.</p>
    <button onclick="testWebRTC()">Testar Vazamento</button>

    <div id="results"></div>

    <script>
    async function testWebRTC() {
        const results = document.getElementById("results");
        results.innerHTML = "<p>Testando...</p>";

        const foundIPs = new Set();

        const pc = new RTCPeerConnection({
            iceServers: [
                { urls: "stun:stun.l.google.com:19302" }, // STUN server do Google
                { urls: "stun:stun1.l.google.com:19302" }
            ]
        });

        pc.createDataChannel("");
        const offer = await pc.createOffer();
        await pc.setLocalDescription(offer);

        pc.onicecandidate = event => {
            if (!event || !event.candidate) return;
            const candidate = event.candidate.candidate;
            const parts = candidate.split(" ");
            const ip = parts[4];

            if (ip && !foundIPs.has(ip)) {
                foundIPs.add(ip);
                results.innerHTML += `<div class="ip">IP detectado: <strong>${ip}</strong></div>`;
            }
        };
    }
    </script>
</body>
</html>
